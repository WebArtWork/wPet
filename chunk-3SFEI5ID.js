import{a as C}from"./chunk-4XID4E6O.js";import{a as f}from"./chunk-OOXVTHAE.js";import{a as v}from"./chunk-DRSBBOQG.js";import{a as Y}from"./chunk-XO6GTODC.js";import{e as B}from"./chunk-7MKG6VHM.js";import{$ as a,A as k,Da as j,H as o,K as l,L as _,M,P as I,R as d,T as u,Ta as q,V as r,W as c,Wa as D,X as E,_ as F,aa as T,bb as N,da as O,f as w,hb as L,ia as m,ja as g,ob as V,qb as A,s as b,sb as R,x as y,xb as h,y as P}from"./chunk-3B44IZU7.js";var z=(()=>{class n{constructor(e,t,i,s,p){this._petclinicService=e,this._form=t,this._core=i,this._alert=s,this._translate=p,this.load=new k,this.form=this._form.getForm("petclinic",C)}update(e){this._form.modal(this.form,[],e).then(t=>{this._core.copy(t,e),this._petclinicService.update(e);let i=this._petclinicService.doc(e._id);this._core.copy(t,i)})}delete(e){this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this pet?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._petclinicService.delete(e).subscribe(()=>{this.load.emit()})}}]})}static{this.\u0275fac=function(t){return new(t||n)(l(f),l(h),l(N),l(L),l(V))}}static{this.\u0275cmp=_({type:n,selectors:[["app-clinic"]],inputs:{clinics:"clinics"},outputs:{load:"load"},standalone:!1,decls:9,vars:4,consts:[[3,"routerLink"],[1,"documents__title"],[1,"documents__description"],[1,"material-icons",3,"click"]],template:function(t,i){t&1&&(r(0,"a",0)(1,"div",1),m(2),c(),r(3,"div",2),m(4),c()(),r(5,"span",3),a("click",function(){return i.update(i.clinics)}),m(6,"edit"),c(),r(7,"span",3),a("click",function(){return i.delete(i.clinics)}),m(8,"delete"),c()),t&2&&(O("routerLink","/petclinicpage/",i.clinics._id,""),o(2),g(i.clinics.name),o(2),g(i.clinics.address))},dependencies:[q],encapsulation:2})}}return n})();function Q(n,G){if(n&1){let e=F();r(0,"div",14)(1,"app-clinic",15),a("load",function(){y(e);let i=T();return P(i.load())}),c()()}if(n&2){let e=G.$implicit;o(),d("clinics",e)}}var S=(()=>{class n{constructor(e,t,i){this._petclinicService=e,this._petdrugService=t,this._form=i,this.clinics=[],this.drugs=[],this.isMenuOpen=!1,this.clinic_drug="",this.search="",this.form=this._form.getForm("petclinic",C),this.load(),this._petdrugService.get().subscribe(s=>{this.drugs.splice(0,this.drugs.length),this.drugs.push(...s)})}setSearch(e){this.search=e||""}create(){this._form.modal(this.form,{label:"Create",click:(e,t)=>w(this,null,function*(){t(),this._preCreate(e),this._petclinicService.create(e).subscribe(()=>{this.load()})})})}load(){this._petclinicService.get({query:this._query()},{name:"public"}).subscribe(e=>{this.clinics.splice(0,this.clinics.length),this.clinics.push(...e)})}_preCreate(e){delete e.__created}_query(){let e="";return this.clinic_drug&&(e+=(e?"&":"")+"clinic_drug="+this.clinic_drug),this.search&&(e+=(e?"&":"")+"search="+this.search),e}static{this.\u0275fac=function(t){return new(t||n)(l(f),l(Y),l(h))}}static{this.\u0275cmp=_({type:n,selectors:[["ng-component"]],standalone:!1,decls:18,vars:12,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-sidebar"],[1,"documents-sidebar-content"],[1,"documents-sidebar__title"],[3,"click"],[3,"wChange","value"],[3,"wChange","wSubmit","type","clearable"],[1,"documents-main"],[1,"documents-main-content"],["class","documents-main-row",4,"ngFor","ngForOf"],[1,"documents-main-row"],[3,"load","clinics"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a("click",function(){return i.isMenuOpen=!i.isMenuOpen}),E(4,"div",4),c(),r(5,"div",5)(6,"div",6)(7,"div",7),m(8,"Pet Clinics"),c(),r(9,"div")(10,"wbutton",8),a("click",function(){return i.create()}),m(11,"Create"),c()(),r(12,"div")(13,"petdrug-selector",9),a("wChange",function(p){return i.clinic_drug=p,i.load()}),c(),r(14,"winput",10),a("wChange",function(p){return i.setSearch(p)})("wSubmit",function(){return i.load()}),c()()()(),r(15,"div",11)(16,"div",12),I(17,Q,2,1,"div",13),c()()()()()),t&2&&(u("documents-wrapper--open",i.isMenuOpen),o(3),u("burger-wrap--open",i.isMenuOpen),o(),u("burger--close",i.isMenuOpen),o(),u("documents-sidebar--open",i.isMenuOpen),o(8),d("value",i.clinic_drug),o(),d("type","search")("clearable",!0),o(3),d("ngForOf",i.clinics))},dependencies:[j,A,R,v,z],encapsulation:2})}}return n})();var U=[{path:"",component:S},{path:":clinic_drug",component:S}],Ce=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=M({type:n})}static{this.\u0275inj=b({imports:[D.forChild(U),B,v]})}}return n})();export{Ce as PetclinicsModule};
