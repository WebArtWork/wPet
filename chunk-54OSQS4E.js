import{a as J}from"./chunk-ZK6FNFBF.js";import{a as f}from"./chunk-WVDVFJNE.js";import{a as H}from"./chunk-5LNGDXTH.js";import{a as G}from"./chunk-MTF54CAV.js";import{a as N}from"./chunk-22QWSCIE.js";import{e as $}from"./chunk-7MKG6VHM.js";import{$ as d,A as O,Da as T,Db as q,Ea as A,Eb as Y,F as I,H as l,K as s,L as u,M as j,P,R as p,Sa as k,T as v,V as r,W as o,Wa as U,X as g,_ as F,aa as _,bb as V,hb as D,ia as a,ja as m,ka as C,ob as z,qb as B,s as M,w as b,x as h,xb as R,y}from"./chunk-3B44IZU7.js";var S=(()=>{class i{get items(){return this._petallergyService.petallergys}constructor(t){this._petallergyService=t,this.wChange=new O}ngOnChanges(t){t.value&&!t.value.firstChange&&(this.value=t.value.currentValue)}static{this.\u0275fac=function(n){return new(n||i)(s(f))}}static{this.\u0275cmp=u({type:i,selectors:[["petallergy-selector"]],inputs:{value:"value"},outputs:{wChange:"wChange"},features:[b],decls:1,vars:3,consts:[["placeholder","Allergy",3,"modelChange","select","items","multiple"]],template:function(n,e){n&1&&(r(0,"wselect",0),d("modelChange",function(w){return e.wChange.emit(w)}),o()),n&2&&p("select",e.value)("items",e.items)("multiple",!0)},dependencies:[Y,q],encapsulation:2})}}return i})();var L=(()=>{class i{constructor(t){this._petallergyService=t}ngOnInit(){this.allergy=this._petallergyService.doc(this.petallergy)}static{this.\u0275fac=function(n){return new(n||i)(s(f))}}static{this.\u0275cmp=u({type:i,selectors:[["app-allergies"]],inputs:{petallergy:"petallergy"},standalone:!1,decls:4,vars:2,consts:[[1,"documents__title"],[1,"documents__description"]],template:function(n,e){n&1&&(r(0,"div",0),a(1),o(),r(2,"div",1),a(3),o()),n&2&&(l(),m(e.allergy.name),l(2),m(e.allergy.description))},encapsulation:2})}}return i})();function ie(i,E){if(i&1){let t=F();r(0,"div")(1,"div")(2,"wbutton",20),d("click",function(){h(t);let e=_();return y(e.update(e.petprofile))}),a(3,"Edit"),o(),r(4,"wbutton",20),d("click",function(){h(t);let e=_();return y(e.delete(e.petprofile))}),a(5,"Delete"),o()(),r(6,"div")(7,"petallergy-selector",21),d("wChange",function(e){h(t);let c=_();return c.allergy=e,y(c.updateAllergies(c.petprofile))}),o()()()}if(i&2){let t=_();l(7),p("value",t.petprofile.allergies)}}function re(i,E){if(i&1&&(r(0,"div",10),g(1,"app-allergies",22),o()),i&2){let t=E.$implicit;l(),p("petallergy",t)}}var Q=(()=>{class i{constructor(t,n,e,c,w,W,X,Z){this._petService=t,this._router=n,this._form=e,this._core=c,this._alert=w,this._translate=W,this._userService=X,this._petallergyService=Z,this.petprofile=this._petService.doc(this._router.url.replace("/petprofile/","")),this.allergies=[],this.allergy=[],this.apiUrl=H.url,this.petPhoto=this.apiUrl+(this.petprofile.thumb?this.petprofile.thumb:null),this.isMenuOpen=!1,this.form=this._form.getForm("pet",J),this.user=this._userService.doc(this.petprofile.author)}update(t){this._form.modal(this.form,[],t).then(n=>{this._core.copy(n,t),this._petService.update(t)})}updateAllergies(t){t.allergies=this.allergy,this._petService.update(t)}delete(t){this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this pet?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._petService.delete(t),this._router.navigateByUrl("/mypets")}}]})}static{this.\u0275fac=function(n){return new(n||i)(s(G),s(k),s(R),s(V),s(D),s(z),s(N),s(f))}}static{this.\u0275cmp=u({type:i,selectors:[["ng-component"]],standalone:!1,decls:35,vars:20,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-sidebar"],[1,"documents-sidebar-content"],[4,"ngIf"],[1,"documents-main"],[1,"documents-main-content"],[1,"documents-main-row"],["height","120px","alt","Pet photo",3,"src"],[1,"documents__title"],[1,"documents__species"],[1,"documents__breed"],[1,"documents__age"],[1,"documents__gender"],[1,"documents__description"],["class","documents-main-row",4,"ngFor","ngForOf"],["height","60px","alt","Owner photo",3,"src"],[3,"click"],[3,"wChange","value"],[3,"petallergy"]],template:function(n,e){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d("click",function(){return e.isMenuOpen=!e.isMenuOpen}),g(4,"div",4),o(),r(5,"div",5)(6,"div",6),P(7,ie,8,1,"div",7),o()(),r(8,"div",8)(9,"div",9)(10,"div",10),g(11,"img",11),r(12,"div",12),a(13),o(),r(14,"div",13),a(15),o(),r(16,"div",14),a(17),o(),r(18,"div",15),a(19),o(),r(20,"div",16),a(21),o(),r(22,"div",17),a(23),o()(),r(24,"h3"),a(25,"Allergies"),o(),P(26,re,2,1,"div",18),r(27,"h3"),a(28,"User"),o(),r(29,"div",10),g(30,"img",19),r(31,"div"),a(32),o(),r(33,"div"),a(34),o()()()()()()()),n&2&&(v("documents-wrapper--open",e.isMenuOpen),l(3),v("burger-wrap--open",e.isMenuOpen),l(),v("burger--close",e.isMenuOpen),l(),v("documents-sidebar--open",e.isMenuOpen),l(2),p("ngIf",e.petprofile.author===e._userService.user._id),l(4),p("src",e.petPhoto,I),l(2),m(e.petprofile.name),l(2),C(" ",e.petprofile.species," "),l(2),m(e.petprofile.breed),l(2),m(e.petprofile.age),l(2),C(" ",e.petprofile.gender," "),l(2),C(" ",e.petprofile.description," "),l(3),p("ngForOf",e.petprofile.allergies),l(4),p("src",e.apiUrl+e.user.thumb,I),l(2),m(e.user.name),l(2),m(e.user.email))},dependencies:[T,A,B,S,L],encapsulation:2})}}return i})();var ne=[{path:":pet_id",component:Q}],be=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=j({type:i})}static{this.\u0275inj=M({imports:[U.forChild(ne),$,S]})}}return i})();export{be as PetprofileModule};
