import{a as g}from"./chunk-ZK6FNFBF.js";import{a as b}from"./chunk-5LNGDXTH.js";import{a as y}from"./chunk-MTF54CAV.js";import{a as O}from"./chunk-22QWSCIE.js";import{e as N}from"./chunk-7MKG6VHM.js";import{$ as m,Da as E,Db as L,F as k,H as s,K as l,L as f,M as F,P as I,R as c,T as u,Ta as P,V as n,W as o,Wa as T,X as h,bb as v,da as S,hb as j,ia as d,ja as M,ob as A,pa as _,qb as q,s as w,sb as D,xb as C}from"./chunk-3B44IZU7.js";var B=(()=>{class r{constructor(e,i,t,a,p){this._petService=e,this._form=i,this._core=t,this._alert=a,this._translate=p,this.apiUrl=b.url,this.form=this._form.getForm("pet",g)}update(e){this._form.modal(this.form,[],e).then(i=>{this._core.copy(i,e),this._petService.update(e)})}delete(e){this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this pet?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._petService.delete(e)}}]})}static{this.\u0275fac=function(i){return new(i||r)(l(y),l(C),l(v),l(j),l(A))}}static{this.\u0275cmp=f({type:r,selectors:[["app-pet"]],inputs:{pet:"pet"},standalone:!1,decls:13,vars:7,consts:[[3,"routerLink"],["height","60px","alt","Pet photo",3,"src"],[1,"documents__title"],[1,"documents__description"],[1,"nav__burger-link",3,"routerLink"],[1,"material-icons"],[1,"material-icons",3,"click"]],template:function(i,t){i&1&&(n(0,"a",0),h(1,"img",1),n(2,"div",2),d(3),o(),n(4,"div",3),d(5),o()(),n(6,"a",4)(7,"span",5),d(8,"article"),o()(),n(9,"span",6),m("click",function(){return t.update(t.pet)}),d(10,"edit"),o(),n(11,"span",6),m("click",function(){return t.delete(t.pet)}),d(12,"delete"),o()),i&2&&(S("routerLink","/petprofile/",t.pet._id,""),s(),c("src",t.apiUrl+t.pet.thumb,k),s(2),M(t.pet.name),s(2),M(t.pet.description),s(),S("routerLink","/pethistory/",t.pet._id,""))},dependencies:[P],encapsulation:2})}}return r})();var H=()=>["Cat","Dog"],J=()=>["White","Black"],K=()=>["Male","Female"],Q=()=>["Adoptable","Not adoptable"];function V(r,z){if(r&1&&(n(0,"div",15),h(1,"app-pet",16),o()),r&2){let e=z.$implicit;s(),c("pet",e)}}var R=(()=>{class r{constructor(e,i,t,a){this._petService=e,this._form=i,this._userService=t,this._core=a,this.mypets=[],this.apiUrl=b.url,this.isMenuOpen=!1,this.species="",this.breed="",this.gender="",this.adoptable="",this.search="",this.form=this._form.getForm("pet",g),this._core.onComplete("pet_loaded").then(()=>{this.mypets=this._petService.petsByAuthor[this._userService.user._id]})}setSearch(e){this.search=e||""}create(){this._form.modal(this.form,{label:"Create",click:(e,i)=>{this._petService.create(e),i()}})}load(){this._petService.get({query:this._query()}).subscribe(e=>{this.mypets.splice(0,this.mypets.length),this.mypets.push(...e)})}_query(){let e="";return this.species&&(e+=(e?"&":"")+"species="+this.species),this.breed&&(e+=(e?"&":"")+"breed="+this.breed),this.gender&&(e+=(e?"&":"")+"gender="+this.gender),this.adoptable&&(this.adoptable==="Adoptable"?e+=(e?"&":"")+"adoptable=true":e+=(e?"&":"")+"adoptable=false"),this.search&&(e+=(e?"&":"")+"search="+this.search),e}static{this.\u0275fac=function(i){return new(i||r)(l(y),l(C),l(O),l(v))}}static{this.\u0275cmp=f({type:r,selectors:[["ng-component"]],standalone:!1,decls:22,vars:29,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-sidebar"],[1,"documents-sidebar-content"],[1,"documents-sidebar__title"],[3,"click"],[3,"modelChange","placeholder","items","clearable","searchable"],[3,"modelChange","placeholder","items","clearable"],[3,"wChange","wSubmit","type","clearable"],[1,"documents-main"],[1,"documents-main-content"],["class","documents-main-row",4,"ngFor","ngForOf"],[1,"documents-main-row"],[3,"pet"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),m("click",function(){return t.isMenuOpen=!t.isMenuOpen}),h(4,"div",4),o(),n(5,"div",5)(6,"div",6)(7,"div",7),d(8,"My Pets"),o(),n(9,"div")(10,"wbutton",8),m("click",function(){return t.create()}),d(11,"Create"),o()(),n(12,"div")(13,"wselect",9),m("modelChange",function(p){return t.species=p,t.load()}),o(),n(14,"wselect",9),m("modelChange",function(p){return t.breed=p,t.load()}),o(),n(15,"wselect",10),m("modelChange",function(p){return t.gender=p,t.load()}),o(),n(16,"wselect",10),m("modelChange",function(p){return t.adoptable=p,t.load()}),o()(),n(17,"div")(18,"winput",11),m("wChange",function(p){return t.setSearch(p)})("wSubmit",function(){return t.load()}),o()()()(),n(19,"div",12)(20,"div",13),I(21,V,2,1,"div",14),o()()()()()),i&2&&(u("documents-wrapper--open",t.isMenuOpen),s(3),u("burger-wrap--open",t.isMenuOpen),s(),u("burger--close",t.isMenuOpen),s(),u("documents-sidebar--open",t.isMenuOpen),s(8),c("placeholder","Species")("items",_(25,H))("clearable",!0)("searchable",!0),s(),c("placeholder","Breed")("items",_(26,J))("clearable",!0)("searchable",!0),s(),c("placeholder","Gender")("items",_(27,K))("clearable",!0),s(),c("placeholder","Adoptable")("items",_(28,Q))("clearable",!0),s(2),c("type","search")("clearable",!0),s(3),c("ngForOf",t.mypets))},dependencies:[L,E,q,D,B],encapsulation:2})}}return r})();var X=[{path:"",component:R}],_e=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=F({type:r})}static{this.\u0275inj=w({imports:[T.forChild(X),N]})}}return r})();export{_e as MypetsModule};
